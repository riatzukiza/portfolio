(include "kit-interface/header")
(import-namespace interface)
(define Spawnable Interface
  (def build () (assign this.pool []))
  (def spawn ((dots args))
    (if this.pool.length
        (.init (.pop this.pool)
               (dots args))
        ((create this)
         (dots args))))

  (def clear () (throw (new Error "No clear function defined for spawnable datatype")))

  (def despawn ()
    (.clear this)
    (.push this.pool this)))

(export Spawnable)
